"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
const utils_1 = require("./utils");
const devServer_1 = __importDefault(require("@wfh/webpack-common/dist/devServer"));
const origDevServerConfig = require('react-scripts/config/webpackDevServer.config');
module.exports = function (proxy, allowedHost) {
    const devServerCfg = origDevServerConfig.apply(this, arguments);
    devServerCfg.stats = 'normal';
    devServerCfg.quiet = false;
    devServer_1.default({ devServer: devServerCfg });
    if (devServerCfg.watchOptions && devServerCfg.watchOptions.ignored) {
        delete devServerCfg.watchOptions.ignored;
    }
    // tslint:disable-next-line: no-console
    console.log('Dev server configure:', utils_1.printConfig(devServerCfg));
    return devServerCfg;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2VicGFjay5kZXZzZXJ2ZXIuY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsid2VicGFjay5kZXZzZXJ2ZXIuY29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSxtQ0FBb0M7QUFDcEMsbUZBQWlFO0FBQ2pFLE1BQU0sbUJBQW1CLEdBQUcsT0FBTyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7QUFFcEYsaUJBQVMsVUFBUyxLQUFhLEVBQUUsV0FBbUI7SUFDbEQsTUFBTSxZQUFZLEdBQTRDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDekcsWUFBWSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUM7SUFDOUIsWUFBWSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDM0IsbUJBQWUsQ0FBQyxFQUFDLFNBQVMsRUFBRSxZQUFZLEVBQUMsQ0FBQyxDQUFDO0lBQzNDLElBQUksWUFBWSxDQUFDLFlBQVksSUFBSSxZQUFZLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRTtRQUNsRSxPQUFPLFlBQVksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDO0tBQzFDO0lBQ0QsdUNBQXVDO0lBQ3ZDLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUUsbUJBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0lBQ2hFLE9BQU8sWUFBYSxDQUFDO0FBQ3ZCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29uZmlndXJhdGlvbn0gZnJvbSAnd2VicGFjayc7XG5pbXBvcnQge3ByaW50Q29uZmlnfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBjaGFuZ2VEZXZTZXJ2ZXIgZnJvbSAnQHdmaC93ZWJwYWNrLWNvbW1vbi9kaXN0L2RldlNlcnZlcic7XG5jb25zdCBvcmlnRGV2U2VydmVyQ29uZmlnID0gcmVxdWlyZSgncmVhY3Qtc2NyaXB0cy9jb25maWcvd2VicGFja0RldlNlcnZlci5jb25maWcnKTtcblxuZXhwb3J0ID0gZnVuY3Rpb24ocHJveHk6IHN0cmluZywgYWxsb3dlZEhvc3Q6IHN0cmluZykge1xuICBjb25zdCBkZXZTZXJ2ZXJDZmc6IE5vbk51bGxhYmxlPENvbmZpZ3VyYXRpb25bJ2RldlNlcnZlciddPiA9IG9yaWdEZXZTZXJ2ZXJDb25maWcuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgZGV2U2VydmVyQ2ZnLnN0YXRzID0gJ25vcm1hbCc7XG4gIGRldlNlcnZlckNmZy5xdWlldCA9IGZhbHNlO1xuICBjaGFuZ2VEZXZTZXJ2ZXIoe2RldlNlcnZlcjogZGV2U2VydmVyQ2ZnfSk7XG4gIGlmIChkZXZTZXJ2ZXJDZmcud2F0Y2hPcHRpb25zICYmIGRldlNlcnZlckNmZy53YXRjaE9wdGlvbnMuaWdub3JlZCkge1xuICAgIGRlbGV0ZSBkZXZTZXJ2ZXJDZmcud2F0Y2hPcHRpb25zLmlnbm9yZWQ7XG4gIH1cbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1jb25zb2xlXG4gIGNvbnNvbGUubG9nKCdEZXYgc2VydmVyIGNvbmZpZ3VyZTonLCBwcmludENvbmZpZyhkZXZTZXJ2ZXJDZmcpKTtcbiAgcmV0dXJuIGRldlNlcnZlckNmZyE7XG59O1xuIl19