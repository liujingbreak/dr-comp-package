"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("@wfh/plink/wfh/dist/node-path");
const dist_1 = require("@wfh/plink/wfh/dist");
const injector_setup_1 = require("../ng/injector-setup");
// import {nodeInjector} from '@wfh/plink/wfh/dist/injector-factory';
// import Path from 'path';
// import * as ngDevkitNode from '@angular-devkit/core/node';
// import TSReadHooker from '../ng-ts-replace';
// import ReadHookHost from '../utils/read-hook-vfshost';
// import * as fs from 'fs';
dist_1.initProcess();
const drcpCliOpt = JSON.parse(process.env._ngcli_plink_arg);
dist_1.initConfig(drcpCliOpt);
const otherCfg = JSON.parse(process.env._ngcli_plink_cfg);
injector_setup_1.injectorSetup(otherCfg.deployUrl, otherCfg.baseHref);
// const [pks, apiProto] = initInjectorForNodePackages({}, packageInfo);
// initWebInjector(pks, apiProto);
require('./hack-type-checker').init();
// const hooker = new TSReadHooker(require.resolve('@wfh/plink/wfh/tsconfig-base.json'), false);
// const host = new ReadHookHost(fs, hooker.hookFunc);
// nodeInjector.fromDir(Path.resolve('node_modules/@ngtools/webpack'))
// .factory('@angular-devkit/core/node', (file) => {
//   return {
//     ...ngDevkitNode,
//     NodeJsSyncHost: host
//   };
// });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9yay10c2NoZWNrLWluaXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJmb3JrLXRzY2hlY2staW5pdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHlDQUF1QztBQUN2Qyw4Q0FBMkU7QUFJM0UseURBQW1EO0FBQ25ELHFFQUFxRTtBQUNyRSwyQkFBMkI7QUFDM0IsNkRBQTZEO0FBQzdELCtDQUErQztBQUMvQyx5REFBeUQ7QUFDekQsNEJBQTRCO0FBRTVCLGtCQUFXLEVBQUUsQ0FBQztBQUNkLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBaUIsQ0FBa0IsQ0FBQztBQUM5RSxpQkFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3ZCLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBaUIsQ0FBQyxDQUFDO0FBRzNELDhCQUFhLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7QUFFckQsd0VBQXdFO0FBRXhFLGtDQUFrQztBQUVqQyxPQUFPLENBQUMscUJBQXFCLENBQXFCLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDM0QsZ0dBQWdHO0FBQ2hHLHNEQUFzRDtBQUV0RCxzRUFBc0U7QUFDdEUsb0RBQW9EO0FBQ3BELGFBQWE7QUFDYix1QkFBdUI7QUFDdkIsMkJBQTJCO0FBQzNCLE9BQU87QUFDUCxNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdAd2ZoL3BsaW5rL3dmaC9kaXN0L25vZGUtcGF0aCc7XG5pbXBvcnQge2luaXRQcm9jZXNzLCBpbml0Q29uZmlnLCBHbG9iYWxPcHRpb25zfSBmcm9tICdAd2ZoL3BsaW5rL3dmaC9kaXN0JztcblxuLy8gaW1wb3J0IHtpbml0SW5qZWN0b3JGb3JOb2RlUGFja2FnZXMsIGluaXRXZWJJbmplY3Rvcn0gZnJvbSAnQHdmaC9wbGluay93ZmgvZGlzdC9wYWNrYWdlLXJ1bm5lcic7XG5pbXBvcnQgKiBhcyBfY2hlY2tlciBmcm9tICcuL2hhY2stdHlwZS1jaGVja2VyJztcbmltcG9ydCB7aW5qZWN0b3JTZXR1cH0gZnJvbSAnLi4vbmcvaW5qZWN0b3Itc2V0dXAnO1xuLy8gaW1wb3J0IHtub2RlSW5qZWN0b3J9IGZyb20gJ0B3ZmgvcGxpbmsvd2ZoL2Rpc3QvaW5qZWN0b3ItZmFjdG9yeSc7XG4vLyBpbXBvcnQgUGF0aCBmcm9tICdwYXRoJztcbi8vIGltcG9ydCAqIGFzIG5nRGV2a2l0Tm9kZSBmcm9tICdAYW5ndWxhci1kZXZraXQvY29yZS9ub2RlJztcbi8vIGltcG9ydCBUU1JlYWRIb29rZXIgZnJvbSAnLi4vbmctdHMtcmVwbGFjZSc7XG4vLyBpbXBvcnQgUmVhZEhvb2tIb3N0IGZyb20gJy4uL3V0aWxzL3JlYWQtaG9vay12ZnNob3N0Jztcbi8vIGltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcblxuaW5pdFByb2Nlc3MoKTtcbmNvbnN0IGRyY3BDbGlPcHQgPSBKU09OLnBhcnNlKHByb2Nlc3MuZW52Ll9uZ2NsaV9wbGlua19hcmchKSBhcyBHbG9iYWxPcHRpb25zO1xuaW5pdENvbmZpZyhkcmNwQ2xpT3B0KTtcbmNvbnN0IG90aGVyQ2ZnID0gSlNPTi5wYXJzZShwcm9jZXNzLmVudi5fbmdjbGlfcGxpbmtfY2ZnISk7XG5cblxuaW5qZWN0b3JTZXR1cChvdGhlckNmZy5kZXBsb3lVcmwsIG90aGVyQ2ZnLmJhc2VIcmVmKTtcblxuLy8gY29uc3QgW3BrcywgYXBpUHJvdG9dID0gaW5pdEluamVjdG9yRm9yTm9kZVBhY2thZ2VzKHt9LCBwYWNrYWdlSW5mbyk7XG5cbi8vIGluaXRXZWJJbmplY3Rvcihwa3MsIGFwaVByb3RvKTtcblxuKHJlcXVpcmUoJy4vaGFjay10eXBlLWNoZWNrZXInKSBhcyB0eXBlb2YgX2NoZWNrZXIpLmluaXQoKTtcbi8vIGNvbnN0IGhvb2tlciA9IG5ldyBUU1JlYWRIb29rZXIocmVxdWlyZS5yZXNvbHZlKCdAd2ZoL3BsaW5rL3dmaC90c2NvbmZpZy1iYXNlLmpzb24nKSwgZmFsc2UpO1xuLy8gY29uc3QgaG9zdCA9IG5ldyBSZWFkSG9va0hvc3QoZnMsIGhvb2tlci5ob29rRnVuYyk7XG5cbi8vIG5vZGVJbmplY3Rvci5mcm9tRGlyKFBhdGgucmVzb2x2ZSgnbm9kZV9tb2R1bGVzL0BuZ3Rvb2xzL3dlYnBhY2snKSlcbi8vIC5mYWN0b3J5KCdAYW5ndWxhci1kZXZraXQvY29yZS9ub2RlJywgKGZpbGUpID0+IHtcbi8vICAgcmV0dXJuIHtcbi8vICAgICAuLi5uZ0RldmtpdE5vZGUsXG4vLyAgICAgTm9kZUpzU3luY0hvc3Q6IGhvc3Rcbi8vICAgfTtcbi8vIH0pO1xuIl19