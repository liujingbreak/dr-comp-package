"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("@wfh/plink/wfh/dist/node-path");
const dist_1 = require("@wfh/plink/wfh/dist");
const injector_setup_1 = require("../ng/injector-setup");
// import {nodeInjector} from '@wfh/plink/wfh/dist/injector-factory';
// import Path from 'path';
// import * as ngDevkitNode from '@angular-devkit/core/node';
// import TSReadHooker from '../ng-ts-replace';
// import ReadHookHost from '../utils/read-hook-vfshost';
// import * as fs from 'fs';
dist_1.initAsChildProcess();
const drcpCliOpt = JSON.parse(process.env._ngcli_plink_arg);
dist_1.initConfig(drcpCliOpt);
const otherCfg = JSON.parse(process.env._ngcli_plink_cfg);
injector_setup_1.injectorSetup(otherCfg.deployUrl, otherCfg.baseHref);
// const [pks, apiProto] = initInjectorForNodePackages({}, packageInfo);
// initWebInjector(pks, apiProto);
require('./hack-type-checker').init();
// const hooker = new TSReadHooker(require.resolve('@wfh/plink/wfh/tsconfig-base.json'), false);
// const host = new ReadHookHost(fs, hooker.hookFunc);
// nodeInjector.fromDir(Path.resolve('node_modules/@ngtools/webpack'))
// .factory('@angular-devkit/core/node', (file) => {
//   return {
//     ...ngDevkitNode,
//     NodeJsSyncHost: host
//   };
// });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9yay10c2NoZWNrLWluaXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJmb3JrLXRzY2hlY2staW5pdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHlDQUF1QztBQUN2Qyw4Q0FBa0Y7QUFJbEYseURBQW1EO0FBQ25ELHFFQUFxRTtBQUNyRSwyQkFBMkI7QUFDM0IsNkRBQTZEO0FBQzdELCtDQUErQztBQUMvQyx5REFBeUQ7QUFDekQsNEJBQTRCO0FBRTVCLHlCQUFrQixFQUFFLENBQUM7QUFDckIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFpQixDQUFrQixDQUFDO0FBQzlFLGlCQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDdkIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFpQixDQUFDLENBQUM7QUFHM0QsOEJBQWEsQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUVyRCx3RUFBd0U7QUFFeEUsa0NBQWtDO0FBRWpDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBcUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUMzRCxnR0FBZ0c7QUFDaEcsc0RBQXNEO0FBRXRELHNFQUFzRTtBQUN0RSxvREFBb0Q7QUFDcEQsYUFBYTtBQUNiLHVCQUF1QjtBQUN2QiwyQkFBMkI7QUFDM0IsT0FBTztBQUNQLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ0B3ZmgvcGxpbmsvd2ZoL2Rpc3Qvbm9kZS1wYXRoJztcbmltcG9ydCB7aW5pdEFzQ2hpbGRQcm9jZXNzLCBpbml0Q29uZmlnLCBHbG9iYWxPcHRpb25zfSBmcm9tICdAd2ZoL3BsaW5rL3dmaC9kaXN0JztcblxuLy8gaW1wb3J0IHtpbml0SW5qZWN0b3JGb3JOb2RlUGFja2FnZXMsIGluaXRXZWJJbmplY3Rvcn0gZnJvbSAnQHdmaC9wbGluay93ZmgvZGlzdC9wYWNrYWdlLXJ1bm5lcic7XG5pbXBvcnQgKiBhcyBfY2hlY2tlciBmcm9tICcuL2hhY2stdHlwZS1jaGVja2VyJztcbmltcG9ydCB7aW5qZWN0b3JTZXR1cH0gZnJvbSAnLi4vbmcvaW5qZWN0b3Itc2V0dXAnO1xuLy8gaW1wb3J0IHtub2RlSW5qZWN0b3J9IGZyb20gJ0B3ZmgvcGxpbmsvd2ZoL2Rpc3QvaW5qZWN0b3ItZmFjdG9yeSc7XG4vLyBpbXBvcnQgUGF0aCBmcm9tICdwYXRoJztcbi8vIGltcG9ydCAqIGFzIG5nRGV2a2l0Tm9kZSBmcm9tICdAYW5ndWxhci1kZXZraXQvY29yZS9ub2RlJztcbi8vIGltcG9ydCBUU1JlYWRIb29rZXIgZnJvbSAnLi4vbmctdHMtcmVwbGFjZSc7XG4vLyBpbXBvcnQgUmVhZEhvb2tIb3N0IGZyb20gJy4uL3V0aWxzL3JlYWQtaG9vay12ZnNob3N0Jztcbi8vIGltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcblxuaW5pdEFzQ2hpbGRQcm9jZXNzKCk7XG5jb25zdCBkcmNwQ2xpT3B0ID0gSlNPTi5wYXJzZShwcm9jZXNzLmVudi5fbmdjbGlfcGxpbmtfYXJnISkgYXMgR2xvYmFsT3B0aW9ucztcbmluaXRDb25maWcoZHJjcENsaU9wdCk7XG5jb25zdCBvdGhlckNmZyA9IEpTT04ucGFyc2UocHJvY2Vzcy5lbnYuX25nY2xpX3BsaW5rX2NmZyEpO1xuXG5cbmluamVjdG9yU2V0dXAob3RoZXJDZmcuZGVwbG95VXJsLCBvdGhlckNmZy5iYXNlSHJlZik7XG5cbi8vIGNvbnN0IFtwa3MsIGFwaVByb3RvXSA9IGluaXRJbmplY3RvckZvck5vZGVQYWNrYWdlcyh7fSwgcGFja2FnZUluZm8pO1xuXG4vLyBpbml0V2ViSW5qZWN0b3IocGtzLCBhcGlQcm90byk7XG5cbihyZXF1aXJlKCcuL2hhY2stdHlwZS1jaGVja2VyJykgYXMgdHlwZW9mIF9jaGVja2VyKS5pbml0KCk7XG4vLyBjb25zdCBob29rZXIgPSBuZXcgVFNSZWFkSG9va2VyKHJlcXVpcmUucmVzb2x2ZSgnQHdmaC9wbGluay93ZmgvdHNjb25maWctYmFzZS5qc29uJyksIGZhbHNlKTtcbi8vIGNvbnN0IGhvc3QgPSBuZXcgUmVhZEhvb2tIb3N0KGZzLCBob29rZXIuaG9va0Z1bmMpO1xuXG4vLyBub2RlSW5qZWN0b3IuZnJvbURpcihQYXRoLnJlc29sdmUoJ25vZGVfbW9kdWxlcy9Abmd0b29scy93ZWJwYWNrJykpXG4vLyAuZmFjdG9yeSgnQGFuZ3VsYXItZGV2a2l0L2NvcmUvbm9kZScsIChmaWxlKSA9PiB7XG4vLyAgIHJldHVybiB7XG4vLyAgICAgLi4ubmdEZXZraXROb2RlLFxuLy8gICAgIE5vZGVKc1N5bmNIb3N0OiBob3N0XG4vLyAgIH07XG4vLyB9KTtcbiJdfQ==