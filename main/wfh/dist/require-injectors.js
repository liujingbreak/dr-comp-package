"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.doInjectorConfig = exports.InjectorFactory = void 0;
const injector_factory_1 = require("./injector-factory");
Object.defineProperty(exports, "InjectorFactory", { enumerable: true, get: function () { return injector_factory_1.DrPackageInjector; } });
function doInjectorConfig(factory, isNode = false) {
    const config = require('./config');
    return config.configHandlerMgr().runEach((file, lastResult, handler) => {
        if (isNode && handler.setupNodeInjector)
            handler.setupNodeInjector(factory);
        else if (!isNode && handler.setupWebInjector)
            handler.setupWebInjector(factory);
    });
}
exports.doInjectorConfig = doInjectorConfig;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVxdWlyZS1pbmplY3RvcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi90cy9yZXF1aXJlLWluamVjdG9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSx5REFBcUQ7QUFFeEIsZ0dBRnJCLG9DQUFpQixPQUVtQjtBQWM1QyxTQUFnQixnQkFBZ0IsQ0FBQyxPQUEwQixFQUFFLE1BQU0sR0FBRyxLQUFLO0lBQ3pFLE1BQU0sTUFBTSxHQUFtQixPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDbkQsT0FBTyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxPQUFPLENBQXdCLENBQUMsSUFBWSxFQUFFLFVBQWUsRUFBRSxPQUFPLEVBQUUsRUFBRTtRQUN6RyxJQUFJLE1BQU0sSUFBSSxPQUFPLENBQUMsaUJBQWlCO1lBQ3JDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUNoQyxJQUFJLENBQUMsTUFBTSxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0I7WUFDMUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQVJELDRDQVFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGYWN0b3J5TWFwSW50ZXJmfSBmcm9tICdyZXF1aXJlLWluamVjdG9yL2Rpc3QvZmFjdG9yeS1tYXAnO1xuaW1wb3J0IHtSZXF1aXJlSW5qZWN0b3J9IGZyb20gJ3JlcXVpcmUtaW5qZWN0b3IvZGlzdC9yZXBsYWNlLXJlcXVpcmUnO1xuaW1wb3J0IHtEclBhY2thZ2VJbmplY3Rvcn0gZnJvbSAnLi9pbmplY3Rvci1mYWN0b3J5JztcbmltcG9ydCBfY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmV4cG9ydCB7RHJQYWNrYWdlSW5qZWN0b3IgYXMgSW5qZWN0b3JGYWN0b3J5fTtcbmV4cG9ydCB7RmFjdG9yeU1hcEludGVyZiwgUmVxdWlyZUluamVjdG9yfTtcblxuLy8gZXhwb3J0IGludGVyZmFjZSBJbmplY3RvckZhY3RvcnkgZXh0ZW5kcyBSZXF1aXJlSW5qZWN0b3Ige1xuLy8gXHRhZGRQYWNrYWdlKG5hbWU6IHN0cmluZywgZGlyOiBzdHJpbmcpOiB2b2lkO1xuLy8gXHRmcm9tQWxsQ29tcG9uZW50cygpOiBGYWN0b3J5TWFwSW50ZXJmO1xuLy8gXHRub3RGcm9tUGFja2FnZXMoZXhjbHVkZVBhY2thZ2VzOiBzdHJpbmcgfCBzdHJpbmdbXSk6IEZhY3RvcnlNYXBJbnRlcmY7XG4vLyB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5qZWN0b3JDb25maWdIYW5kbGVyIHtcbiAgc2V0dXBOb2RlSW5qZWN0b3I/KGZhY3Rvcnk6IERyUGFja2FnZUluamVjdG9yKTogdm9pZDtcbiAgc2V0dXBXZWJJbmplY3Rvcj8oZmFjdG9yeTogRHJQYWNrYWdlSW5qZWN0b3IpOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9JbmplY3RvckNvbmZpZyhmYWN0b3J5OiBEclBhY2thZ2VJbmplY3RvciwgaXNOb2RlID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgY29uZmlnOiB0eXBlb2YgX2NvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG4gIHJldHVybiBjb25maWcuY29uZmlnSGFuZGxlck1ncigpLnJ1bkVhY2g8SW5qZWN0b3JDb25maWdIYW5kbGVyPigoZmlsZTogc3RyaW5nLCBsYXN0UmVzdWx0OiBhbnksIGhhbmRsZXIpID0+IHtcbiAgICBpZiAoaXNOb2RlICYmIGhhbmRsZXIuc2V0dXBOb2RlSW5qZWN0b3IpXG4gICAgICBoYW5kbGVyLnNldHVwTm9kZUluamVjdG9yKGZhY3RvcnkpO1xuICAgIGVsc2UgaWYgKCFpc05vZGUgJiYgaGFuZGxlci5zZXR1cFdlYkluamVjdG9yKVxuICAgICAgaGFuZGxlci5zZXR1cFdlYkluamVjdG9yKGZhY3RvcnkpO1xuICB9KTtcbn1cblxuXG50eXBlIFZhbHVlRmFjdG9yeSA9IChzb3VyY2VGaWxlUGF0aDogc3RyaW5nLCByZWdleHBFeGVjUmVzPzogUmVnRXhwRXhlY0FycmF5KSA9PiBhbnk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVwbGFjZVR5cGVWYWx1ZSB7XG4gIHJlcGxhY2VtZW50OiBzdHJpbmc7XG4gIHZhbHVlOiBhbnkgfCBWYWx1ZUZhY3Rvcnk7XG59XG4iXX0=