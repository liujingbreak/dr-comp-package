"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Pool = void 0;
const worker_threads_1 = require("worker_threads");
const promise_queque_1 = require("./promise-queque");
// import Path from 'path';
function newThreadPool(maxParalle, idleTimeMs) {
}
exports.default = newThreadPool;
class Pool {
    constructor(maxParalle, idleTimeMs) {
        this.workers = [];
        this.promiseQ = promise_queque_1.queue(maxParalle);
    }
    submit(task) {
        return this.promiseQ.add(task);
    }
    createWorker() {
        this.workers.push(new worker_threads_1.Worker(require.resolve('./worker')));
    }
}
exports.Pool = Pool;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi90cy90aHJlYWQtcG9vbC9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxtREFBc0M7QUFDdEMscURBQXVDO0FBQ3ZDLDJCQUEyQjtBQUUzQixTQUF3QixhQUFhLENBQUMsVUFBa0IsRUFBRSxVQUFrQjtBQUU1RSxDQUFDO0FBRkQsZ0NBRUM7QUFFRCxNQUFhLElBQUk7SUFJZixZQUFZLFVBQWtCLEVBQUUsVUFBa0I7UUFGMUMsWUFBTyxHQUFhLEVBQUUsQ0FBQztRQUc3QixJQUFJLENBQUMsUUFBUSxHQUFHLHNCQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVELE1BQU0sQ0FBSSxJQUFzQjtRQUM5QixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFUyxZQUFZO1FBQ3BCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksdUJBQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3RCxDQUFDO0NBQ0Y7QUFmRCxvQkFlQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7V29ya2VyfSBmcm9tICd3b3JrZXJfdGhyZWFkcyc7XG5pbXBvcnQge3F1ZXVlfSBmcm9tICcuL3Byb21pc2UtcXVlcXVlJztcbi8vIGltcG9ydCBQYXRoIGZyb20gJ3BhdGgnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBuZXdUaHJlYWRQb29sKG1heFBhcmFsbGU6IG51bWJlciwgaWRsZVRpbWVNczogbnVtYmVyKSB7XG5cbn1cblxuZXhwb3J0IGNsYXNzIFBvb2wge1xuICBwcml2YXRlIHByb21pc2VROiBSZXR1cm5UeXBlPHR5cGVvZiBxdWV1ZT47XG4gIHByaXZhdGUgd29ya2VyczogV29ya2VyW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihtYXhQYXJhbGxlOiBudW1iZXIsIGlkbGVUaW1lTXM6IG51bWJlcikge1xuICAgIHRoaXMucHJvbWlzZVEgPSBxdWV1ZShtYXhQYXJhbGxlKTtcbiAgfVxuXG4gIHN1Ym1pdDxUPih0YXNrOiAoKSA9PiBQcm9taXNlPFQ+KTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIHRoaXMucHJvbWlzZVEuYWRkKHRhc2spO1xuICB9XG5cbiAgcHJvdGVjdGVkIGNyZWF0ZVdvcmtlcigpIHtcbiAgICB0aGlzLndvcmtlcnMucHVzaChuZXcgV29ya2VyKHJlcXVpcmUucmVzb2x2ZSgnLi93b3JrZXInKSkpO1xuICB9XG59XG4iXX0=